<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example Pipeline • conmat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example Pipeline">
<meta property="og:description" content="conmat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">conmat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/getting-started.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example Pipeline</h1>
            
      
      
      <div class="hidden name"><code>example-pipeline.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">conmat</span><span class="op">)</span></span></code></pre></div>
<p>This vignette outlines a basic workflow of:</p>
<ul>
<li>Create a new synthetic matrix by extrapolating from POLYMOD data to
a new age distribution</li>
<li>Generating a Next Generation Matrix</li>
<li>Applying Vaccination Rates</li>
<li>Comparing R0 before and post vaccination rates</li>
</ul>
<div class="section level2">
<h2 id="create-a-new-synthetic-matrix-from-all-polymod-data">Create a new synthetic matrix from all POLYMOD data<a class="anchor" aria-label="anchor" href="#create-a-new-synthetic-matrix-from-all-polymod-data"></a>
</h2>
<p>We can create a synthetic matrix from all POLYMOD data by using the
<code>extrapolate_polymod</code> function. First, let’s extract an age
distribution from the ABS data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fairfield_population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/abs_age_data.html">abs_age_lga</a></span><span class="op">(</span><span class="st">"Fairfield (C)"</span><span class="op">)</span></span>
<span><span class="va">fairfield_population</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 18 × 4</span></span></span>
<span><span class="co">#&gt;    lga           lower.age.limit  year population</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Fairfield (C)               0  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">12</span>261</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Fairfield (C)               5  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>093</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Fairfield (C)              10  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>602</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Fairfield (C)              15  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">14</span>323</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Fairfield (C)              20  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">15</span>932</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Fairfield (C)              25  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">16</span>190</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Fairfield (C)              30  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">14</span>134</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Fairfield (C)              35  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>034</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Fairfield (C)              40  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">12</span>217</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Fairfield (C)              45  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>449</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Fairfield (C)              50  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>419</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Fairfield (C)              55  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">13</span>652</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Fairfield (C)              60  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">12</span>907</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Fairfield (C)              65  <span style="text-decoration: underline;">2</span>020      <span style="text-decoration: underline;">10</span>541</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Fairfield (C)              70  <span style="text-decoration: underline;">2</span>020       <span style="text-decoration: underline;">8</span>227</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Fairfield (C)              75  <span style="text-decoration: underline;">2</span>020       <span style="text-decoration: underline;">5</span>598</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Fairfield (C)              80  <span style="text-decoration: underline;">2</span>020       <span style="text-decoration: underline;">4</span>006</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> Fairfield (C)              85  <span style="text-decoration: underline;">2</span>020       <span style="text-decoration: underline;">4</span>240</span></span></code></pre></div>
<p>The key features of this age distribution are the columns,
<code>lower.age.limit</code>, and <code>population</code>.</p>
<p>We then extrapolate this using the full POLYMOD data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">synthetic_fairfield_5y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extrapolate_polymod.html">extrapolate_polymod</a></span><span class="op">(</span></span>
<span>  population <span class="op">=</span> <span class="va">fairfield_population</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>By full POLYMOD data, we mean these data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">polymod_setting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_polymod_setting_data.html">get_polymod_setting_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">polymod_population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_polymod_population.html">get_polymod_population</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">polymod_setting</span></span>
<span><span class="co">#&gt; $home</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8,787 × 5</span></span></span>
<span><span class="co">#&gt;    setting age_from age_to contacts participants</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> home           0      0       10           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> home           0      1        7           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> home           0      2       12           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> home           0      3       14           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> home           0      4       12           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> home           0      5        6           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> home           0      6        8           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> home           0      7        9           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> home           0      8        6           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> home           0      9        6           92</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 8,777 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $work</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8,787 × 5</span></span></span>
<span><span class="co">#&gt;    setting age_from age_to contacts participants</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> work           0      0        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> work           0      1        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> work           0      2        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> work           0      3        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> work           0      4        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> work           0      5        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> work           0      6        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> work           0      7        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> work           0      8        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> work           0      9        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 8,777 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $school</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8,787 × 5</span></span></span>
<span><span class="co">#&gt;    setting age_from age_to contacts participants</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> school         0      0       13           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> school         0      1        1           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> school         0      2        5           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> school         0      3        1           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> school         0      4        1           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> school         0      5        3           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> school         0      6        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> school         0      7        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> school         0      8        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> school         0      9        0           92</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 8,777 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $other</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8,787 × 5</span></span></span>
<span><span class="co">#&gt;    setting age_from age_to contacts participants</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> other          0      0        7           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> other          0      1        6           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> other          0      2       12           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> other          0      3       12           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> other          0      4        4           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> other          0      5        4           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> other          0      6        4           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> other          0      7        5           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> other          0      8        2           92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> other          0      9        3           92</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 8,777 more rows</span></span></span>
<span><span class="va">polymod_population</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 21 × 2</span></span></span>
<span><span class="co">#&gt;    lower.age.limit population</span></span>
<span><span class="co">#&gt;              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>               0   1<span style="text-decoration: underline;">852</span>682.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>               5   1<span style="text-decoration: underline;">968</span>449.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>              10   2<span style="text-decoration: underline;">138</span>897.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>              15   2<span style="text-decoration: underline;">312</span>032.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>              20   2<span style="text-decoration: underline;">407</span>486.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>              25   2<span style="text-decoration: underline;">423</span>602.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>              30   2<span style="text-decoration: underline;">585</span>137.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>              35   2<span style="text-decoration: underline;">969</span>393.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>              40   3<span style="text-decoration: underline;">041</span>663.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>              45   2<span style="text-decoration: underline;">809</span>154.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 11 more rows</span></span></span></code></pre></div>
<p>The <code><a href="../reference/extrapolate_polymod.html">extrapolate_polymod()</a></code> function does the
following:</p>
<ul>
<li>Uses an already fit model (<code>polymod_setting_models</code>) of
the contact rate to the full POLYMOD data above</li>
<li>Predicts it to the provided fairfield population data</li>
</ul>
<p>It also has options to predict to specified age brackets, defaulting
to 5 year age groups up to 75, then 75 and older.</p>
<p>This object, <code>synthetic_fairfield_5y</code>, contains a matrix
of predictions for each of the settings, home, work, school, other, and
all settings.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">synthetic_fairfield_5y</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ home  : 'conmat_prediction_matrix' num [1:16, 1:16] 0.561 0.448 0.273 0.229 0.334 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ work  : 'conmat_prediction_matrix' num [1:16, 1:16] 0.00911 0.00417 0.00171 0.00135 0.00189 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ school: 'conmat_prediction_matrix' num [1:16, 1:16] 1.2351 0.3175 0.0757 0.0571 0.0761 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ other : 'conmat_prediction_matrix' num [1:16, 1:16] 0.819 0.419 0.154 0.143 0.245 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ all   : 'conmat_prediction_matrix' num [1:16, 1:16] 2.625 1.189 0.504 0.43 0.657 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:16] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "conmat_setting_prediction_matrix" "list"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="generating-a-next-generation-matrix">Generating a Next Generation Matrix<a class="anchor" aria-label="anchor" href="#generating-a-next-generation-matrix"></a>
</h2>
<p>Once infected, a person can transmit an infectious disease to
another, creating generations of infected individuals. We can define a
matrix describing the number of newly infected individuals in given
categories, such as age, for consecutive generations. This matrix is
called a “next generation matrix” (NGM).</p>
<p>We can generate an NGM for Australian specific data like so (in a
future release we will change this to work for any predicted
population)</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ngm_fairfield</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_ngm.html">generate_ngm</a></span><span class="op">(</span></span>
<span>  lga_name <span class="op">=</span> <span class="st">"Fairfield (C)"</span>,</span>
<span>  age_breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">80</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>  R_target <span class="op">=</span> <span class="fl">1.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The output of this is a matrix for each of the settings, where each
value is the number of newly infected individuals</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ngm_fairfield</span><span class="op">$</span><span class="va">home</span></span>
<span><span class="co">#&gt;                [0,5)      [5,10)     [10,15)     [15,20)     [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    0.050584225 0.034019238 0.015250720 0.009993025 0.015353347</span></span>
<span><span class="co">#&gt; [5,10)   0.049351793 0.080507898 0.047438828 0.018381687 0.012529914</span></span>
<span><span class="co">#&gt; [10,15)  0.035401912 0.061727339 0.102642113 0.053768295 0.020157175</span></span>
<span><span class="co">#&gt; [15,20)  0.036178783 0.035348926 0.067311728 0.115198942 0.058266397</span></span>
<span><span class="co">#&gt; [20,25)  0.076477394 0.039858954 0.040645199 0.081674045 0.155988275</span></span>
<span><span class="co">#&gt; [25,30)  0.157001161 0.072195744 0.036694435 0.036569549 0.087276811</span></span>
<span><span class="co">#&gt; [30,35)  0.193586379 0.136130364 0.060863781 0.027922953 0.031286240</span></span>
<span><span class="co">#&gt; [35,40)  0.129338191 0.162247980 0.114206816 0.045023815 0.021339262</span></span>
<span><span class="co">#&gt; [40,45)  0.063619711 0.105069117 0.137607924 0.087640496 0.034496291</span></span>
<span><span class="co">#&gt; [45,50)  0.042642584 0.052132086 0.092710336 0.114258946 0.073427561</span></span>
<span><span class="co">#&gt; [50,55)  0.045863893 0.033878033 0.043834159 0.076688832 0.097139927</span></span>
<span><span class="co">#&gt; [55,60)  0.053515878 0.035219312 0.025323463 0.033289959 0.061652505</span></span>
<span><span class="co">#&gt; [60,65)  0.046539933 0.039433945 0.023079733 0.016611187 0.023846066</span></span>
<span><span class="co">#&gt; [65,70)  0.027628179 0.030672484 0.021943356 0.012535312 0.010019818</span></span>
<span><span class="co">#&gt; [70,75)  0.014007089 0.016517421 0.015305529 0.010625535 0.006939135</span></span>
<span><span class="co">#&gt; [75,80)  0.007279533 0.008229463 0.008155461 0.007334356 0.005980600</span></span>
<span><span class="co">#&gt; [80,Inf) 0.004972444 0.006398346 0.006317765 0.005996113 0.006503531</span></span>
<span><span class="co">#&gt;              [25,30)     [30,35)     [35,40)     [40,45)    [45,50)    [50,55)</span></span>
<span><span class="co">#&gt; [0,5)    0.033951725 0.048626702 0.033684279 0.016313158 0.01143631 0.01405681</span></span>
<span><span class="co">#&gt; [5,10)   0.022380207 0.054155854 0.074974517 0.048653261 0.02340625 0.01753010</span></span>
<span><span class="co">#&gt; [10,15)  0.015181940 0.031344643 0.073342716 0.091517032 0.05538688 0.02787178</span></span>
<span><span class="co">#&gt; [15,20)  0.022270523 0.019428956 0.040156044 0.083730824 0.09322324 0.05631122</span></span>
<span><span class="co">#&gt; [20,25)  0.080655748 0.033115507 0.030116152 0.057133942 0.10454924 0.11132350</span></span>
<span><span class="co">#&gt; [25,30)  0.184827633 0.095124033 0.040337585 0.036852928 0.06333870 0.10719972</span></span>
<span><span class="co">#&gt; [30,35)  0.086509491 0.177892884 0.088768203 0.040469789 0.03718727 0.05977107</span></span>
<span><span class="co">#&gt; [35,40)  0.028090011 0.079146585 0.143800085 0.075472576 0.03876434 0.03584047</span></span>
<span><span class="co">#&gt; [40,45)  0.018385809 0.027009762 0.066832237 0.115356331 0.07044773 0.03966041</span></span>
<span><span class="co">#&gt; [45,50)  0.031403384 0.019340820 0.027182270 0.060782101 0.11645385 0.08111524</span></span>
<span><span class="co">#&gt; [50,55)  0.066613744 0.032486762 0.021006784 0.027063505 0.06318360 0.14134200</span></span>
<span><span class="co">#&gt; [55,60)  0.082541555 0.062904405 0.032936419 0.020683130 0.02656417 0.07196902</span></span>
<span><span class="co">#&gt; [60,65)  0.046438368 0.067579343 0.054515809 0.028358180 0.01774280 0.02561346</span></span>
<span><span class="co">#&gt; [65,70)  0.015260555 0.031634810 0.048068534 0.038237734 0.01955451 0.01334608</span></span>
<span><span class="co">#&gt; [70,75)  0.006240114 0.009922237 0.020869921 0.031009680 0.02375608 0.01275714</span></span>
<span><span class="co">#&gt; [75,80)  0.004655240 0.004477605 0.006991789 0.014015737 0.01952640 0.01513737</span></span>
<span><span class="co">#&gt; [80,Inf) 0.007287674 0.007252464 0.006622933 0.007939059 0.01328017 0.01947359</span></span>
<span><span class="co">#&gt;              [55,60)     [60,65)    [65,70)    [70,75)    [75,80)   [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    0.019242902 0.019360727 0.01422609 0.01161133 0.01322316 0.01656177</span></span>
<span><span class="co">#&gt; [5,10)   0.022334945 0.028581982 0.02504288 0.01844211 0.01792878 0.02759880</span></span>
<span><span class="co">#&gt; [10,15)  0.021877877 0.026681161 0.03029214 0.02657802 0.02324513 0.03359950</span></span>
<span><span class="co">#&gt; [15,20)  0.029952158 0.023499000 0.02626006 0.02978023 0.03029639 0.03711955</span></span>
<span><span class="co">#&gt; [20,25)  0.070772448 0.039023904 0.02893004 0.03204708 0.04092559 0.05376424</span></span>
<span><span class="co">#&gt; [25,30)  0.116493276 0.077675317 0.04230977 0.03199106 0.03911646 0.06672133</span></span>
<span><span class="co">#&gt; [30,35)  0.099317868 0.110485327 0.07330119 0.04222747 0.03539986 0.06467896</span></span>
<span><span class="co">#&gt; [35,40)  0.055344354 0.090529118 0.09719891 0.06763079 0.04368845 0.05565771</span></span>
<span><span class="co">#&gt; [40,45)  0.036010430 0.052887754 0.07966669 0.08631472 0.06669232 0.05719505</span></span>
<span><span class="co">#&gt; [45,50)  0.046462107 0.040015518 0.05248265 0.07600258 0.08810129 0.08327614</span></span>
<span><span class="co">#&gt; [50,55)  0.102001527 0.055792904 0.04321361 0.05314629 0.07824740 0.12147384</span></span>
<span><span class="co">#&gt; [55,60)  0.175548169 0.120356694 0.06013818 0.04435016 0.05357241 0.13151188</span></span>
<span><span class="co">#&gt; [60,65)  0.078919933 0.185611546 0.11668487 0.05781508 0.04212912 0.09756231</span></span>
<span><span class="co">#&gt; [65,70)  0.022478985 0.070984668 0.15065616 0.09402167 0.04767592 0.05598399</span></span>
<span><span class="co">#&gt; [70,75)  0.010122407 0.018931949 0.05527999 0.10716576 0.06853017 0.03970593</span></span>
<span><span class="co">#&gt; [75,80)  0.009165785 0.008499505 0.01600869 0.04262733 0.07749446 0.04532221</span></span>
<span><span class="co">#&gt; [80,Inf) 0.020122734 0.016468154 0.01427012 0.02054927 0.04642846 0.09214269</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ngm_fairfield</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ home  : 'conmat_prediction_matrix' num [1:17, 1:17] 0.0506 0.0494 0.0354 0.0362 0.0765 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ school: 'conmat_prediction_matrix' num [1:17, 1:17] 0.02987 0.00932 0.0026 0.00237 0.00447 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ work  : 'conmat_prediction_matrix' num [1:17, 1:17] 2.20e-04 1.22e-04 5.87e-05 5.60e-05 1.11e-04 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ other : 'conmat_prediction_matrix' num [1:17, 1:17] 0.01981 0.01229 0.00529 0.00595 0.01439 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;  $ all   : 'conmat_prediction_matrix' num [1:17, 1:17] 0.1005 0.0711 0.0434 0.0446 0.0955 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:17] "[0,5)" "[5,10)" "[10,15)" "[15,20)" ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="applying-vaccination-rates">Applying Vaccination Rates<a class="anchor" aria-label="anchor" href="#applying-vaccination-rates"></a>
</h2>
<p>It is important to understand the effect of vaccination on the next
generation of infections. We can use <code><a href="../reference/apply_vaccination.html">apply_vaccination()</a></code> to
return the percentage reduction in acquisition and transmission in each
age group.</p>
<p>It takes two key arguments:</p>
<ol style="list-style-type: decimal">
<li>The next generation matrix</li>
<li>The vaccination effect data</li>
</ol>
<p>The vaccination effect could look like the following:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vaccination_effect_example_data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 4</span></span></span>
<span><span class="co">#&gt;    age_band coverage acquisition transmission</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0-4         0           0            0    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 5-11        0.782       0.583        0.254</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 12-15       0.997       0.631        0.295</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 16-19       0.965       0.786        0.469</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 20-24       0.861       0.774        0.453</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 25-29       0.997       0.778        0.458</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 30-34       0.998       0.803        0.493</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 35-39       0.998       0.829        0.533</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 40-44       0.999       0.841        0.551</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 45-49       0.993       0.847        0.562</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 50-54       0.999       0.857        0.579</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 55-59       0.996       0.864        0.591</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 60-64       0.998       0.858        0.581</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 65-69       0.999       0.864        0.591</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 70-74       0.999       0.867        0.597</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 75-79       0.999       0.866        0.595</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 80+         0.999       0.844        0.556</span></span></code></pre></div>
<p>Each row contains information, for each age band:</p>
<ul>
<li>Coverage % vaccinated</li>
<li>Acquisition - probability of acquiring COVID</li>
<li>Transmission - the probability of transmission</li>
</ul>
<p>Then you need to specify the columns in the vaccination effect data
frame related to covarege, acquisition, and transmission.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply vaccination effect to next generation matrices</span></span>
<span><span class="va">ngm_nsw_vacc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/apply_vaccination.html">apply_vaccination</a></span><span class="op">(</span></span>
<span> ngm <span class="op">=</span> <span class="va">ngm_fairfield</span>,</span>
<span> data <span class="op">=</span> <span class="va">vaccination_effect_example_data</span>,</span>
<span> coverage_col <span class="op">=</span> <span class="va">coverage</span>,</span>
<span> acquisition_col <span class="op">=</span> <span class="va">acquisition</span>,</span>
<span> transmission_col <span class="op">=</span> <span class="va">transmission</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">ngm_nsw_vacc</span></span>
<span><span class="co">#&gt; $home</span></span>
<span><span class="co">#&gt;                 [0,5)       [5,10)      [10,15)      [15,20)      [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    0.0505842253 0.0272548538 0.0107615469 0.0054754741 0.0093745922</span></span>
<span><span class="co">#&gt; [5,10)   0.0268360225 0.0350730050 0.0182026039 0.0054767802 0.0041601848</span></span>
<span><span class="co">#&gt; [10,15)  0.0131364103 0.0183504543 0.0268757087 0.0109320345 0.0045669786</span></span>
<span><span class="co">#&gt; [15,20)  0.0087491384 0.0068486795 0.0114864659 0.0152645698 0.0086035725</span></span>
<span><span class="co">#&gt; [20,25)  0.0255458795 0.0106667707 0.0095803502 0.0149484645 0.0318147903</span></span>
<span><span class="co">#&gt; [25,30)  0.0353081245 0.0130077645 0.0058231281 0.0045062588 0.0119845018</span></span>
<span><span class="co">#&gt; [30,35)  0.0384467313 0.0216600229 0.0085295851 0.0030385803 0.0037939126</span></span>
<span><span class="co">#&gt; [35,40)  0.0222259555 0.0223373802 0.0138487329 0.0042393639 0.0022390428</span></span>
<span><span class="co">#&gt; [40,45)  0.0102199150 0.0135222809 0.0155985198 0.0077140982 0.0033835868</span></span>
<span><span class="co">#&gt; [45,50)  0.0067683304 0.0066292198 0.0103836622 0.0099369476 0.0071161725</span></span>
<span><span class="co">#&gt; [50,55)  0.0066025499 0.0039073134 0.0044528474 0.0060491959 0.0085386239</span></span>
<span><span class="co">#&gt; [55,60)  0.0074783257 0.0039429554 0.0024970611 0.0025489407 0.0052604364</span></span>
<span><span class="co">#&gt; [60,65)  0.0066782299 0.0045334112 0.0023369571 0.0013060537 0.0020893042</span></span>
<span><span class="co">#&gt; [65,70)  0.0037929577 0.0033736029 0.0021257547 0.0009429434 0.0008399141</span></span>
<span><span class="co">#&gt; [70,75)  0.0018759011 0.0017722443 0.0014464212 0.0007797181 0.0005674358</span></span>
<span><span class="co">#&gt; [75,80)  0.0009793286 0.0008869838 0.0007742082 0.0005406443 0.0004912686</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0007839495 0.0008081746 0.0007028554 0.0005179797 0.0006260611</span></span>
<span><span class="co">#&gt;               [25,30)      [30,35)      [35,40)     [40,45)     [45,50)</span></span>
<span><span class="co">#&gt; [0,5)    0.0184687014 0.0246932885 0.0157586327 0.007338482 0.005054218</span></span>
<span><span class="co">#&gt; [5,10)   0.0066199364 0.0149542534 0.0190730508 0.011901326 0.005624902</span></span>
<span><span class="co">#&gt; [10,15)  0.0030644446 0.0059063263 0.0127320476 0.015276368 0.009082904</span></span>
<span><span class="co">#&gt; [15,20)  0.0029296535 0.0023859697 0.0045431129 0.009108878 0.009963305</span></span>
<span><span class="co">#&gt; [20,25)  0.0146553978 0.0056172441 0.0047062885 0.008585195 0.015433931</span></span>
<span><span class="co">#&gt; [25,30)  0.0226106579 0.0108634097 0.0042439764 0.003728310 0.006295190</span></span>
<span><span class="co">#&gt; [30,35)  0.0093459380 0.0179410277 0.0082477090 0.003615628 0.003263975</span></span>
<span><span class="co">#&gt; [35,40)  0.0026257905 0.0069066898 0.0115606986 0.005834330 0.002943974</span></span>
<span><span class="co">#&gt; [40,45)  0.0016066188 0.0022033347 0.0050226494 0.008336144 0.005001388</span></span>
<span><span class="co">#&gt; [45,50)  0.0027113713 0.0015588956 0.0020184362 0.004339922 0.008168829</span></span>
<span><span class="co">#&gt; [50,55)  0.0052164991 0.0023749327 0.0014147889 0.001752641 0.004019880</span></span>
<span><span class="co">#&gt; [55,60)  0.0062743520 0.0044638223 0.0021532248 0.001300188 0.001640536</span></span>
<span><span class="co">#&gt; [60,65)  0.0036248252 0.0049244042 0.0036597326 0.001830552 0.001125189</span></span>
<span><span class="co">#&gt; [65,70)  0.0011396476 0.0022054391 0.0030872933 0.002361490 0.001186426</span></span>
<span><span class="co">#&gt; [70,75)  0.0004545997 0.0006748011 0.0013075977 0.001868218 0.001406063</span></span>
<span><span class="co">#&gt; [75,80)  0.0003406759 0.0003058967 0.0004400525 0.000848221 0.001160954</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0006250023 0.0005806413 0.0004884947 0.000563061 0.000925315</span></span>
<span><span class="co">#&gt;               [50,55)      [55,60)      [60,65)      [65,70)     [70,75)</span></span>
<span><span class="co">#&gt; [0,5)    0.0059297433 0.0079180474 0.0081361504 0.0058281833 0.004685767</span></span>
<span><span class="co">#&gt; [5,10)   0.0040211358 0.0049974404 0.0065313785 0.0055788819 0.004046918</span></span>
<span><span class="co">#&gt; [10,15)  0.0043627843 0.0033404323 0.0041605620 0.0046049777 0.003979891</span></span>
<span><span class="co">#&gt; [15,20)  0.0057445403 0.0029804853 0.0023881303 0.0026016848 0.002906284</span></span>
<span><span class="co">#&gt; [20,25)  0.0156864130 0.0097274616 0.0054779213 0.0039589905 0.004319911</span></span>
<span><span class="co">#&gt; [25,30)  0.0101698477 0.0107800350 0.0073409475 0.0038981637 0.002903347</span></span>
<span><span class="co">#&gt; [30,35)  0.0050075430 0.0081163271 0.0092211806 0.0059640775 0.003384373</span></span>
<span><span class="co">#&gt; [35,40)  0.0025981033 0.0039134024 0.0065376135 0.0068429390 0.004690041</span></span>
<span><span class="co">#&gt; [40,45)  0.0026875823 0.0023802985 0.0035703271 0.0052430017 0.005595502</span></span>
<span><span class="co">#&gt; [45,50)  0.0054311214 0.0030344813 0.0026690935 0.0034127261 0.004868161</span></span>
<span><span class="co">#&gt; [50,55)  0.0085834330 0.0060421984 0.0033753362 0.0025486429 0.003087538</span></span>
<span><span class="co">#&gt; [55,60)  0.0042424461 0.0100940523 0.0070678816 0.0034428619 0.002501010</span></span>
<span><span class="co">#&gt; [60,65)  0.0015504328 0.0046598276 0.0111927782 0.0068595840 0.003347922</span></span>
<span><span class="co">#&gt; [65,70)  0.0007729094 0.0012698428 0.0040953175 0.0084734500 0.005208975</span></span>
<span><span class="co">#&gt; [70,75)  0.0007207164 0.0005578191 0.0010655030 0.0030330365 0.005791842</span></span>
<span><span class="co">#&gt; [75,80)  0.0008590615 0.0005073903 0.0004805249 0.0008823248 0.002314257</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0012951299 0.0013054273 0.0010910895 0.0009217083 0.001307414</span></span>
<span><span class="co">#&gt;              [75,80)    [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    0.005359455 0.007367735</span></span>
<span><span class="co">#&gt; [5,10)   0.003951404 0.006676251</span></span>
<span><span class="co">#&gt; [10,15)  0.003495968 0.005546385</span></span>
<span><span class="co">#&gt; [15,20)  0.002969530 0.003993386</span></span>
<span><span class="co">#&gt; [20,25)  0.005540746 0.007989296</span></span>
<span><span class="co">#&gt; [25,30)  0.003565470 0.006675191</span></span>
<span><span class="co">#&gt; [30,35)  0.002849520 0.005714456</span></span>
<span><span class="co">#&gt; [35,40)  0.003042887 0.004254869</span></span>
<span><span class="co">#&gt; [40,45)  0.004342271 0.004087345</span></span>
<span><span class="co">#&gt; [45,50)  0.005667686 0.005880116</span></span>
<span><span class="co">#&gt; [50,55)  0.004565582 0.007779484</span></span>
<span><span class="co">#&gt; [55,60)  0.003034229 0.008175493</span></span>
<span><span class="co">#&gt; [60,65)  0.002450211 0.006227947</span></span>
<span><span class="co">#&gt; [65,70)  0.002652835 0.003419140</span></span>
<span><span class="co">#&gt; [70,75)  0.003719884 0.002365619</span></span>
<span><span class="co">#&gt; [75,80)  0.004225528 0.002712460</span></span>
<span><span class="co">#&gt; [80,Inf) 0.002966797 0.006462586</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $school</span></span>
<span><span class="co">#&gt;                 [0,5)       [5,10)      [10,15)      [15,20)      [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    2.986812e-02 4.716702e-03 5.255207e-04 2.571104e-04 5.148266e-04</span></span>
<span><span class="co">#&gt; [5,10)   5.065581e-03 5.625681e-02 3.652766e-03 2.694012e-04 3.659685e-04</span></span>
<span><span class="co">#&gt; [10,15)  9.651503e-04 4.140102e-03 5.646660e-02 2.906073e-03 5.303703e-04</span></span>
<span><span class="co">#&gt; [15,20)  5.742804e-04 6.481427e-04 3.788033e-03 2.816983e-02 2.065232e-03</span></span>
<span><span class="co">#&gt; [20,25)  1.492224e-03 1.593382e-03 2.221478e-03 5.130588e-03 9.726912e-03</span></span>
<span><span class="co">#&gt; [25,30)  1.624644e-03 1.571066e-03 1.307015e-03 1.212279e-03 2.009696e-03</span></span>
<span><span class="co">#&gt; [30,35)  1.733287e-03 1.956943e-03 1.575071e-03 8.471122e-04 5.563866e-04</span></span>
<span><span class="co">#&gt; [35,40)  1.272204e-03 1.749132e-03 1.669396e-03 8.956833e-04 3.237528e-04</span></span>
<span><span class="co">#&gt; [40,45)  8.199277e-04 1.326374e-03 1.445473e-03 9.691880e-04 3.486321e-04</span></span>
<span><span class="co">#&gt; [45,50)  5.704244e-04 1.055269e-03 1.187659e-03 8.989371e-04 4.218366e-04</span></span>
<span><span class="co">#&gt; [50,55)  3.711215e-04 7.645977e-04 8.679898e-04 6.129394e-04 3.368320e-04</span></span>
<span><span class="co">#&gt; [55,60)  2.236594e-04 4.851322e-04 5.742170e-04 3.578155e-04 1.820263e-04</span></span>
<span><span class="co">#&gt; [60,65)  1.063271e-04 2.246560e-04 2.743571e-04 1.650311e-04 8.189003e-05</span></span>
<span><span class="co">#&gt; [65,70)  3.378539e-05 6.615385e-05 7.931338e-05 4.669539e-05 3.043853e-05</span></span>
<span><span class="co">#&gt; [70,75)  1.007576e-05 1.739104e-05 1.822274e-05 9.007579e-06 5.841807e-06</span></span>
<span><span class="co">#&gt; [75,80)  4.836874e-06 6.805528e-06 5.597602e-06 1.954495e-06 9.197092e-07</span></span>
<span><span class="co">#&gt; [80,Inf) 1.227976e-05 1.545300e-05 8.957533e-06 1.532823e-06 2.975541e-07</span></span>
<span><span class="co">#&gt;               [25,30)      [30,35)      [35,40)      [40,45)      [45,50)</span></span>
<span><span class="co">#&gt; [0,5)    8.470305e-04 8.121207e-04 5.531010e-04 6.806019e-04 1.178920e-03</span></span>
<span><span class="co">#&gt; [5,10)   6.044549e-04 9.527370e-04 8.584105e-04 9.254464e-04 1.589085e-03</span></span>
<span><span class="co">#&gt; [10,15)  3.819553e-04 6.906570e-04 8.936443e-04 9.407278e-04 1.297934e-03</span></span>
<span><span class="co">#&gt; [15,20)  3.999193e-04 3.948497e-04 6.102435e-04 7.380618e-04 8.198872e-04</span></span>
<span><span class="co">#&gt; [20,25)  1.588600e-03 4.898844e-04 5.279476e-04 7.030450e-04 7.379678e-04</span></span>
<span><span class="co">#&gt; [25,30)  2.452786e-03 6.580705e-04 3.154688e-04 3.509848e-04 3.704918e-04</span></span>
<span><span class="co">#&gt; [30,35)  8.383068e-04 1.163865e-03 4.297028e-04 3.354935e-04 3.272362e-04</span></span>
<span><span class="co">#&gt; [35,40)  2.206343e-04 4.087155e-04 4.093072e-04 2.902010e-04 2.798247e-04</span></span>
<span><span class="co">#&gt; [40,45)  1.278550e-04 1.402554e-04 1.870195e-04 2.066721e-04 2.492712e-04</span></span>
<span><span class="co">#&gt; [45,50)  1.505039e-04 9.566201e-05 9.539642e-05 1.245531e-04 2.124158e-04</span></span>
<span><span class="co">#&gt; [50,55)  1.615189e-04 9.606774e-05 6.426207e-05 6.573823e-05 1.121213e-04</span></span>
<span><span class="co">#&gt; [55,60)  1.112524e-04 8.699396e-05 5.523547e-05 4.027802e-05 4.706358e-05</span></span>
<span><span class="co">#&gt; [60,65)  5.610481e-05 6.143577e-05 5.105007e-05 3.573693e-05 2.689723e-05</span></span>
<span><span class="co">#&gt; [65,70)  2.435700e-05 3.274398e-05 4.062065e-05 3.590512e-05 2.350232e-05</span></span>
<span><span class="co">#&gt; [70,75)  4.719379e-06 7.124447e-06 1.246286e-05 1.557478e-05 1.114251e-05</span></span>
<span><span class="co">#&gt; [75,80)  6.603537e-07 1.148226e-06 2.918166e-06 5.707206e-06 5.173791e-06</span></span>
<span><span class="co">#&gt; [80,Inf) 1.239147e-07 2.087728e-07 8.164992e-07 3.173873e-06 5.205422e-06</span></span>
<span><span class="co">#&gt;               [50,55)      [55,60)      [60,65)      [65,70)      [70,75)</span></span>
<span><span class="co">#&gt; [0,5)    1.308123e-03 8.230566e-04 3.790675e-04 1.273725e-04 3.303992e-05</span></span>
<span><span class="co">#&gt; [5,10)   2.041150e-03 1.188096e-03 4.074423e-04 1.380159e-04 6.198247e-05</span></span>
<span><span class="co">#&gt; [10,15)  1.694909e-03 1.054343e-03 3.038232e-04 8.076204e-05 4.612519e-05</span></span>
<span><span class="co">#&gt; [15,20)  8.984045e-04 6.060435e-04 1.770512e-04 3.357430e-05 1.418390e-05</span></span>
<span><span class="co">#&gt; [20,25)  6.530174e-04 4.476912e-04 1.741915e-04 3.978165e-05 9.739398e-06</span></span>
<span><span class="co">#&gt; [25,30)  2.873895e-04 1.909076e-04 1.060524e-04 3.395056e-05 5.114693e-06</span></span>
<span><span class="co">#&gt; [30,35)  2.306099e-04 1.446850e-04 1.068135e-04 5.181245e-05 6.947102e-06</span></span>
<span><span class="co">#&gt; [35,40)  1.793624e-04 9.541251e-05 8.464014e-05 7.245908e-05 1.365116e-05</span></span>
<span><span class="co">#&gt; [40,45)  1.773107e-04 7.592571e-05 6.031807e-05 8.449746e-05 2.955498e-05</span></span>
<span><span class="co">#&gt; [45,50)  2.314924e-04 9.801019e-05 5.178079e-05 8.223750e-05 5.505844e-05</span></span>
<span><span class="co">#&gt; [50,55)  2.402173e-04 1.604402e-04 6.039932e-05 6.284430e-05 6.040004e-05</span></span>
<span><span class="co">#&gt; [55,60)  9.941455e-05 1.975898e-04 1.031586e-04 5.622903e-05 4.355481e-05</span></span>
<span><span class="co">#&gt; [60,65)  3.253152e-05 7.230333e-05 1.486446e-04 6.897048e-05 2.746521e-05</span></span>
<span><span class="co">#&gt; [65,70)  1.583141e-05 1.980726e-05 4.358565e-05 5.828362e-05 1.777730e-05</span></span>
<span><span class="co">#&gt; [70,75)  5.655142e-06 4.023058e-06 5.839586e-06 9.792422e-06 9.913981e-06</span></span>
<span><span class="co">#&gt; [75,80)  2.428298e-06 1.122730e-06 1.044429e-06 1.449802e-06 1.978009e-06</span></span>
<span><span class="co">#&gt; [80,Inf) 2.815401e-06 9.214594e-07 5.216126e-07 5.765540e-07 7.006974e-07</span></span>
<span><span class="co">#&gt;               [75,80)     [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    7.888316e-06 2.332591e-06</span></span>
<span><span class="co">#&gt; [5,10)   3.048707e-05 1.105166e-05</span></span>
<span><span class="co">#&gt; [10,15)  4.912406e-05 4.166435e-05</span></span>
<span><span class="co">#&gt; [15,20)  2.378739e-05 6.882260e-05</span></span>
<span><span class="co">#&gt; [20,25)  1.243724e-05 1.258676e-04</span></span>
<span><span class="co">#&gt; [25,30)  2.418059e-06 4.418901e-05</span></span>
<span><span class="co">#&gt; [30,35)  1.121151e-06 9.088909e-06</span></span>
<span><span class="co">#&gt; [35,40)  1.314574e-06 1.382495e-06</span></span>
<span><span class="co">#&gt; [40,45)  3.415752e-06 5.555533e-07</span></span>
<span><span class="co">#&gt; [45,50)  1.213867e-05 1.169188e-06</span></span>
<span><span class="co">#&gt; [50,55)  2.857071e-05 4.106882e-06</span></span>
<span><span class="co">#&gt; [55,60)  3.501723e-05 1.057418e-05</span></span>
<span><span class="co">#&gt; [60,65)  2.160579e-05 1.298286e-05</span></span>
<span><span class="co">#&gt; [65,70)  8.513538e-06 6.756765e-06</span></span>
<span><span class="co">#&gt; [70,75)  3.898878e-06 2.343044e-06</span></span>
<span><span class="co">#&gt; [75,80)  2.203040e-06 1.038507e-06</span></span>
<span><span class="co">#&gt; [80,Inf) 8.222896e-07 1.146249e-06</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $work</span></span>
<span><span class="co">#&gt;                 [0,5)       [5,10)      [10,15)      [15,20)      [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    2.202007e-04 5.995140e-05 4.496044e-05 1.506821e-04 7.070061e-04</span></span>
<span><span class="co">#&gt; [5,10)   6.653166e-05 7.720489e-05 6.421412e-05 1.428460e-04 5.884884e-04</span></span>
<span><span class="co">#&gt; [10,15)  2.176392e-05 3.568988e-05 1.528469e-04 2.883669e-04 7.540316e-04</span></span>
<span><span class="co">#&gt; [15,20)  1.353902e-05 1.612357e-05 1.030195e-04 7.362360e-04 1.405298e-03</span></span>
<span><span class="co">#&gt; [20,25)  3.712042e-05 3.348027e-05 1.572407e-04 1.397111e-03 6.891198e-03</span></span>
<span><span class="co">#&gt; [25,30)  4.492207e-05 2.966286e-05 1.005903e-04 7.278522e-04 4.855480e-03</span></span>
<span><span class="co">#&gt; [30,35)  5.362777e-05 3.036225e-05 8.221725e-05 4.898935e-04 3.001789e-03</span></span>
<span><span class="co">#&gt; [35,40)  4.875393e-05 2.605061e-05 6.403593e-05 3.347511e-04 1.861114e-03</span></span>
<span><span class="co">#&gt; [40,45)  4.410229e-05 2.305939e-05 5.458716e-05 2.708293e-04 1.395071e-03</span></span>
<span><span class="co">#&gt; [45,50)  4.547251e-05 2.334094e-05 5.349898e-05 2.598207e-04 1.278783e-03</span></span>
<span><span class="co">#&gt; [50,55)  4.265846e-05 2.124908e-05 4.653206e-05 2.202212e-04 1.056126e-03</span></span>
<span><span class="co">#&gt; [55,60)  3.629841e-05 1.783789e-05 3.667223e-05 1.656499e-04 7.791196e-04</span></span>
<span><span class="co">#&gt; [60,65)  2.394333e-05 1.274566e-05 2.529412e-05 1.059483e-04 4.699896e-04</span></span>
<span><span class="co">#&gt; [65,70)  9.936286e-06 6.497656e-06 1.398788e-05 5.531546e-05 2.163920e-04</span></span>
<span><span class="co">#&gt; [70,75)  3.281158e-06 2.678723e-06 7.389652e-06 3.155098e-05 1.140108e-04</span></span>
<span><span class="co">#&gt; [75,80)  1.179536e-06 9.865300e-07 3.683687e-06 2.055107e-05 7.911533e-05</span></span>
<span><span class="co">#&gt; [80,Inf) 1.442107e-06 6.545179e-07 2.430679e-06 2.053584e-05 1.161710e-04</span></span>
<span><span class="co">#&gt;               [25,30)      [30,35)      [35,40)      [40,45)      [45,50)</span></span>
<span><span class="co">#&gt; [0,5)    1.109797e-03 1.073764e-03 0.0009711440 0.0009210374 0.0008208467</span></span>
<span><span class="co">#&gt; [5,10)   9.245559e-04 9.232327e-04 0.0008601399 0.0008611544 0.0008278649</span></span>
<span><span class="co">#&gt; [10,15)  1.016727e-03 1.038163e-03 0.0009761026 0.0009702523 0.0009499591</span></span>
<span><span class="co">#&gt; [15,20)  1.284554e-03 1.235959e-03 0.0011980607 0.0011669457 0.0010889382</span></span>
<span><span class="co">#&gt; [20,25)  5.405815e-03 4.175173e-03 0.0040716163 0.0039849490 0.0035516194</span></span>
<span><span class="co">#&gt; [25,30)  7.553906e-03 5.259191e-03 0.0047804179 0.0046864294 0.0041151285</span></span>
<span><span class="co">#&gt; [30,35)  5.669078e-03 5.685178e-03 0.0050337722 0.0048861125 0.0042164483</span></span>
<span><span class="co">#&gt; [35,40)  3.448551e-03 3.901919e-03 0.0040962365 0.0041310060 0.0034982925</span></span>
<span><span class="co">#&gt; [40,45)  2.498539e-03 2.813632e-03 0.0030975727 0.0035854728 0.0032009329</span></span>
<span><span class="co">#&gt; [45,50)  2.202966e-03 2.485784e-03 0.0026751656 0.0030694728 0.0033540927</span></span>
<span><span class="co">#&gt; [50,55)  1.733573e-03 1.938938e-03 0.0021017877 0.0022906901 0.0024547166</span></span>
<span><span class="co">#&gt; [55,60)  1.231393e-03 1.325689e-03 0.0014613874 0.0015902524 0.0015712306</span></span>
<span><span class="co">#&gt; [60,65)  7.167558e-04 7.434998e-04 0.0008116601 0.0009116459 0.0008767023</span></span>
<span><span class="co">#&gt; [65,70)  3.087240e-04 3.150806e-04 0.0003407640 0.0003918574 0.0003849843</span></span>
<span><span class="co">#&gt; [70,75)  1.482754e-04 1.479636e-04 0.0001637491 0.0001953221 0.0001979118</span></span>
<span><span class="co">#&gt; [75,80)  9.624744e-05 8.918568e-05 0.0001011002 0.0001314129 0.0001413877</span></span>
<span><span class="co">#&gt; [80,Inf) 1.677787e-04 1.510672e-04 0.0001622244 0.0002344373 0.0003138808</span></span>
<span><span class="co">#&gt;               [50,55)      [55,60)      [60,65)      [65,70)      [70,75)</span></span>
<span><span class="co">#&gt; [0,5)    0.0006295766 3.572142e-04 1.353532e-04 4.532332e-05 3.293666e-05</span></span>
<span><span class="co">#&gt; [5,10)   0.0006989997 4.570134e-04 1.959371e-04 6.268807e-05 3.168394e-05</span></span>
<span><span class="co">#&gt; [10,15)  0.0008542797 6.299957e-04 3.204583e-04 1.145229e-04 4.993500e-05</span></span>
<span><span class="co">#&gt; [15,20)  0.0009637625 7.467062e-04 4.364021e-04 1.898972e-04 9.155510e-05</span></span>
<span><span class="co">#&gt; [20,25)  0.0029182355 2.144133e-03 1.273790e-03 6.209430e-04 3.691650e-04</span></span>
<span><span class="co">#&gt; [25,30)  0.0032282549 2.155100e-03 1.161083e-03 5.656135e-04 4.024029e-04</span></span>
<span><span class="co">#&gt; [30,35)  0.0032945303 2.132925e-03 1.020077e-03 4.423081e-04 3.232400e-04</span></span>
<span><span class="co">#&gt; [35,40)  0.0026914335 1.812951e-03 8.472600e-04 3.155768e-04 1.989168e-04</span></span>
<span><span class="co">#&gt; [40,45)  0.0023700103 1.627635e-03 8.234474e-04 2.953068e-04 1.535923e-04</span></span>
<span><span class="co">#&gt; [45,50)  0.0026043735 1.722012e-03 9.224326e-04 3.566514e-04 1.688445e-04</span></span>
<span><span class="co">#&gt; [50,55)  0.0025134184 1.729029e-03 9.076390e-04 3.720353e-04 1.782822e-04</span></span>
<span><span class="co">#&gt; [55,60)  0.0015948852 1.511509e-03 8.272131e-04 3.326669e-04 1.607729e-04</span></span>
<span><span class="co">#&gt; [60,65)  0.0008057201 7.722001e-04 5.932574e-04 2.547974e-04 1.187443e-04</span></span>
<span><span class="co">#&gt; [65,70)  0.0003338471 2.899596e-04 2.332584e-04 1.483330e-04 7.404644e-05</span></span>
<span><span class="co">#&gt; [70,75)  0.0001678339 1.347585e-04 1.009697e-04 6.750893e-05 4.949962e-05</span></span>
<span><span class="co">#&gt; [75,80)  0.0001177867 8.745274e-05 6.157848e-05 3.959155e-05 2.929575e-05</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0002943836 1.914978e-04 1.094241e-04 6.797023e-05 5.073935e-05</span></span>
<span><span class="co">#&gt;               [75,80)     [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    6.028332e-05 7.877460e-05</span></span>
<span><span class="co">#&gt; [5,10)   3.554988e-05 3.905787e-05</span></span>
<span><span class="co">#&gt; [10,15)  3.505785e-05 2.436404e-05</span></span>
<span><span class="co">#&gt; [15,20)  5.059974e-05 2.015052e-05</span></span>
<span><span class="co">#&gt; [20,25)  2.140878e-04 5.904812e-05</span></span>
<span><span class="co">#&gt; [25,30)  2.870267e-04 7.372371e-05</span></span>
<span><span class="co">#&gt; [30,35)  2.785639e-04 8.202828e-05</span></span>
<span><span class="co">#&gt; [35,40)  1.751702e-04 6.100215e-05</span></span>
<span><span class="co">#&gt; [40,45)  1.151612e-04 4.104082e-05</span></span>
<span><span class="co">#&gt; [45,50)  1.023473e-04 3.147865e-05</span></span>
<span><span class="co">#&gt; [50,55)  9.299134e-05 2.275828e-05</span></span>
<span><span class="co">#&gt; [55,60)  7.845173e-05 1.545911e-05</span></span>
<span><span class="co">#&gt; [60,65)  5.386782e-05 8.967623e-06</span></span>
<span><span class="co">#&gt; [65,70)  3.025768e-05 4.202437e-06</span></span>
<span><span class="co">#&gt; [70,75)  2.157492e-05 2.464968e-06</span></span>
<span><span class="co">#&gt; [75,80)  2.010531e-05 2.579134e-06</span></span>
<span><span class="co">#&gt; [80,Inf) 3.164121e-05 6.800449e-06</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $other</span></span>
<span><span class="co">#&gt;                 [0,5)       [5,10)      [10,15)      [15,20)      [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    0.0198099481 0.0086388298 0.0017940903 0.0010062179 0.0017752108</span></span>
<span><span class="co">#&gt; [5,10)   0.0066827488 0.0227892464 0.0068650250 0.0011982577 0.0011915362</span></span>
<span><span class="co">#&gt; [10,15)  0.0019636864 0.0070147441 0.0250436930 0.0051097412 0.0015293394</span></span>
<span><span class="co">#&gt; [15,20)  0.0014385569 0.0016244442 0.0065762212 0.0170712949 0.0047112476</span></span>
<span><span class="co">#&gt; [20,25)  0.0048081877 0.0027505460 0.0035832341 0.0120334111 0.0307880661</span></span>
<span><span class="co">#&gt; [25,30)  0.0064297658 0.0033572879 0.0021586179 0.0030971238 0.0108239366</span></span>
<span><span class="co">#&gt; [30,35)  0.0067592789 0.0045694401 0.0023589026 0.0018467845 0.0039530836</span></span>
<span><span class="co">#&gt; [35,40)  0.0043588350 0.0039780123 0.0025336744 0.0015307192 0.0021428757</span></span>
<span><span class="co">#&gt; [40,45)  0.0026369833 0.0025534719 0.0021979544 0.0015234532 0.0017343614</span></span>
<span><span class="co">#&gt; [45,50)  0.0021280701 0.0016449062 0.0015586497 0.0014024351 0.0017678164</span></span>
<span><span class="co">#&gt; [50,55)  0.0020424779 0.0011754317 0.0009175697 0.0009246462 0.0014846101</span></span>
<span><span class="co">#&gt; [55,60)  0.0022690379 0.0011373126 0.0006528946 0.0005579170 0.0010371911</span></span>
<span><span class="co">#&gt; [60,65)  0.0022489867 0.0011953996 0.0006078070 0.0003765116 0.0006068879</span></span>
<span><span class="co">#&gt; [65,70)  0.0014740258 0.0009189751 0.0005182962 0.0002718324 0.0003019112</span></span>
<span><span class="co">#&gt; [70,75)  0.0007309800 0.0005237877 0.0003641013 0.0002075350 0.0001839997</span></span>
<span><span class="co">#&gt; [75,80)  0.0003112929 0.0002414286 0.0002081364 0.0001518174 0.0001368215</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0002234444 0.0001624210 0.0001531101 0.0001552190 0.0001888195</span></span>
<span><span class="co">#&gt;               [25,30)      [30,35)      [35,40)      [40,45)      [45,50)</span></span>
<span><span class="co">#&gt; [0,5)    0.0021457141 0.0021763764 0.0018634997 0.0013297123 0.0010107202</span></span>
<span><span class="co">#&gt; [5,10)   0.0014895255 0.0017140490 0.0017666909 0.0014314806 0.0009473071</span></span>
<span><span class="co">#&gt; [10,15)  0.0013353293 0.0015115383 0.0016265500 0.0016363136 0.0012834373</span></span>
<span><span class="co">#&gt; [15,20)  0.0015960081 0.0014686072 0.0014284840 0.0015025704 0.0015426495</span></span>
<span><span class="co">#&gt; [20,25)  0.0083034736 0.0045788267 0.0038525594 0.0034106750 0.0038337879</span></span>
<span><span class="co">#&gt; [25,30)  0.0135449047 0.0062174225 0.0044700955 0.0033052195 0.0030450157</span></span>
<span><span class="co">#&gt; [30,35)  0.0066329611 0.0069468187 0.0050666962 0.0037059545 0.0026447930</span></span>
<span><span class="co">#&gt; [35,40)  0.0028517723 0.0037318730 0.0040184028 0.0035270461 0.0024403019</span></span>
<span><span class="co">#&gt; [40,45)  0.0018126593 0.0020590047 0.0025067781 0.0029894622 0.0025996804</span></span>
<span><span class="co">#&gt; [45,50)  0.0016841635 0.0016299152 0.0016943497 0.0021584600 0.0027624801</span></span>
<span><span class="co">#&gt; [50,55)  0.0015951708 0.0015176675 0.0012965294 0.0013655139 0.0019519064</span></span>
<span><span class="co">#&gt; [55,60)  0.0014169443 0.0016047504 0.0013309667 0.0010579366 0.0012581864</span></span>
<span><span class="co">#&gt; [60,65)  0.0009652820 0.0014272367 0.0014421261 0.0010187376 0.0008615188</span></span>
<span><span class="co">#&gt; [65,70)  0.0004217305 0.0007435029 0.0010209952 0.0008585214 0.0005938690</span></span>
<span><span class="co">#&gt; [70,75)  0.0001835253 0.0002977338 0.0005006829 0.0005897113 0.0004633488</span></span>
<span><span class="co">#&gt; [75,80)  0.0001100612 0.0001329550 0.0002097679 0.0003113572 0.0003315619</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0001609401 0.0001681545 0.0002013870 0.0002583046 0.0003273716</span></span>
<span><span class="co">#&gt;               [50,55)      [55,60)      [60,65)      [65,70)      [70,75)</span></span>
<span><span class="co">#&gt; [0,5)    0.0009699974 0.0009704053 0.0008468428 0.0007089419 0.0008756010</span></span>
<span><span class="co">#&gt; [5,10)   0.0007146558 0.0007570642 0.0008590936 0.0007532281 0.0006665082</span></span>
<span><span class="co">#&gt; [10,15)  0.0008492375 0.0007109111 0.0008321633 0.0008735690 0.0007044163</span></span>
<span><span class="co">#&gt; [15,20)  0.0012323385 0.0008726662 0.0008021579 0.0008805502 0.0008261577</span></span>
<span><span class="co">#&gt; [20,25)  0.0042146386 0.0033955346 0.0024624654 0.0021471545 0.0022524809</span></span>
<span><span class="co">#&gt; [25,30)  0.0039593039 0.0043141447 0.0031791140 0.0021520603 0.0020861923</span></span>
<span><span class="co">#&gt; [30,35)  0.0029657273 0.0040112771 0.0037123822 0.0023888525 0.0019660715</span></span>
<span><span class="co">#&gt; [35,40)  0.0020333176 0.0025938478 0.0029522684 0.0021900005 0.0017089260</span></span>
<span><span class="co">#&gt; [40,45)  0.0019159269 0.0019098038 0.0021683456 0.0018719981 0.0016180476</span></span>
<span><span class="co">#&gt; [45,50)  0.0024346673 0.0021193523 0.0020499286 0.0017523151 0.0016558326</span></span>
<span><span class="co">#&gt; [50,55)  0.0026045880 0.0025976869 0.0023485952 0.0017906883 0.0015771044</span></span>
<span><span class="co">#&gt; [55,60)  0.0020712431 0.0029145734 0.0030530720 0.0023138234 0.0017546112</span></span>
<span><span class="co">#&gt; [60,65)  0.0012881373 0.0023199842 0.0032316248 0.0030181076 0.0022167134</span></span>
<span><span class="co">#&gt; [65,70)  0.0006413702 0.0011275334 0.0019483313 0.0026317226 0.0024128682</span></span>
<span><span class="co">#&gt; [70,75)  0.0003886808 0.0005175821 0.0008821635 0.0013552633 0.0020536377</span></span>
<span><span class="co">#&gt; [75,80)  0.0002914039 0.0003041659 0.0004161606 0.0005899018 0.0009523253</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0003799291 0.0004195483 0.0004725766 0.0005336603 0.0006964531</span></span>
<span><span class="co">#&gt;               [75,80)     [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    0.0012038946 0.0007923977</span></span>
<span><span class="co">#&gt; [5,10)   0.0007059557 0.0005972746</span></span>
<span><span class="co">#&gt; [10,15)  0.0004859791 0.0003361077</span></span>
<span><span class="co">#&gt; [15,20)  0.0004881203 0.0001931529</span></span>
<span><span class="co">#&gt; [20,25)  0.0015510951 0.0004443359</span></span>
<span><span class="co">#&gt; [25,30)  0.0017229059 0.0005302448</span></span>
<span><span class="co">#&gt; [30,35)  0.0016856725 0.0006159117</span></span>
<span><span class="co">#&gt; [35,40)  0.0013759870 0.0005341709</span></span>
<span><span class="co">#&gt; [40,45)  0.0013067819 0.0004867645</span></span>
<span><span class="co">#&gt; [45,50)  0.0015134852 0.0005857605</span></span>
<span><span class="co">#&gt; [50,55)  0.0015687528 0.0007337251</span></span>
<span><span class="co">#&gt; [55,60)  0.0015755268 0.0008806125</span></span>
<span><span class="co">#&gt; [60,65)  0.0016004214 0.0008776086</span></span>
<span><span class="co">#&gt; [65,70)  0.0015092959 0.0006577086</span></span>
<span><span class="co">#&gt; [70,75)  0.0015421663 0.0005144638</span></span>
<span><span class="co">#&gt; [75,80)  0.0014437366 0.0005392107</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0010264482 0.0010360865</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"                   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $all</span></span>
<span><span class="co">#&gt;                [0,5)       [5,10)      [10,15)      [15,20)      [20,25)</span></span>
<span><span class="co">#&gt; [0,5)    0.100482491 0.0406703375 0.0131261184 0.0068894846 0.0123716357</span></span>
<span><span class="co">#&gt; [5,10)   0.038650884 0.1141962682 0.0287846091 0.0070872851 0.0063061779</span></span>
<span><span class="co">#&gt; [10,15)  0.016087011 0.0295409901 0.1085388443 0.0192362153 0.0073807199</span></span>
<span><span class="co">#&gt; [15,20)  0.010775515 0.0091373900 0.0219537400 0.0612419267 0.0167853506</span></span>
<span><span class="co">#&gt; [20,25)  0.031883412 0.0150441786 0.0155423034 0.0335095739 0.0792209663</span></span>
<span><span class="co">#&gt; [25,30)  0.043407456 0.0179657811 0.0093893515 0.0095435135 0.0296736149</span></span>
<span><span class="co">#&gt; [30,35)  0.046992925 0.0282167685 0.0125457763 0.0062223704 0.0113051717</span></span>
<span><span class="co">#&gt; [35,40)  0.027905748 0.0280905757 0.0181158392 0.0070005176 0.0065667855</span></span>
<span><span class="co">#&gt; [40,45)  0.013720928 0.0174251863 0.0192965343 0.0104775688 0.0068616510</span></span>
<span><span class="co">#&gt; [45,50)  0.009512297 0.0093527359 0.0131834694 0.0124981404 0.0105846083</span></span>
<span><span class="co">#&gt; [50,55)  0.009058808 0.0058685919 0.0062849390 0.0078070027 0.0114161917</span></span>
<span><span class="co">#&gt; [55,60)  0.010007321 0.0055832380 0.0037608450 0.0036303232 0.0072587736</span></span>
<span><span class="co">#&gt; [60,65)  0.009057487 0.0059662125 0.0032444154 0.0019535446 0.0032480718</span></span>
<span><span class="co">#&gt; [65,70)  0.005310705 0.0043652295 0.0027373521 0.0013167867 0.0013886558</span></span>
<span><span class="co">#&gt; [70,75)  0.002620238 0.0023161017 0.0018361348 0.0010278117 0.0008712882</span></span>
<span><span class="co">#&gt; [75,80)  0.001296638 0.0011362044 0.0009916259 0.0007149673 0.0007081252</span></span>
<span><span class="co">#&gt; [80,Inf) 0.001021116 0.0009867032 0.0008673537 0.0006952675 0.0009313492</span></span>
<span><span class="co">#&gt;               [25,30)      [30,35)      [35,40)     [40,45)     [45,50)</span></span>
<span><span class="co">#&gt; [0,5)    0.0225712433 0.0287555494 0.0191463775 0.010269833 0.008064705</span></span>
<span><span class="co">#&gt; [5,10)   0.0096384727 0.0185442722 0.0225582922 0.015119408 0.008989158</span></span>
<span><span class="co">#&gt; [10,15)  0.0057984563 0.0091466850 0.0162283445 0.018823661 0.012614235</span></span>
<span><span class="co">#&gt; [15,20)  0.0062101351 0.0054853855 0.0077799011 0.012516456 0.013414780</span></span>
<span><span class="co">#&gt; [20,25)  0.0299532871 0.0148611284 0.0131584118 0.016683864 0.023557306</span></span>
<span><span class="co">#&gt; [25,30)  0.0461622543 0.0229980938 0.0138099586 0.012070943 0.013825826</span></span>
<span><span class="co">#&gt; [30,35)  0.0224862836 0.0317368895 0.0187778803 0.012543189 0.010452452</span></span>
<span><span class="co">#&gt; [35,40)  0.0091467477 0.0149491977 0.0200846451 0.013782583 0.009162393</span></span>
<span><span class="co">#&gt; [40,45)  0.0060456725 0.0072162266 0.0108140197 0.015117751 0.011051272</span></span>
<span><span class="co">#&gt; [45,50)  0.0067490052 0.0057702570 0.0064833480 0.009692408 0.014497818</span></span>
<span><span class="co">#&gt; [50,55)  0.0087067618 0.0059276055 0.0048773680 0.005474583 0.008538624</span></span>
<span><span class="co">#&gt; [55,60)  0.0090339421 0.0074812557 0.0050008143 0.003988655 0.004517017</span></span>
<span><span class="co">#&gt; [60,65)  0.0053629678 0.0071565765 0.0059645689 0.003796673 0.002890308</span></span>
<span><span class="co">#&gt; [65,70)  0.0018944591 0.0032967665 0.0044896731 0.003647774 0.002188781</span></span>
<span><span class="co">#&gt; [70,75)  0.0007911198 0.0011276230 0.0019844926 0.002668826 0.002078466</span></span>
<span><span class="co">#&gt; [75,80)  0.0005476450 0.0005291857 0.0007538388 0.001296698 0.001639078</span></span>
<span><span class="co">#&gt; [80,Inf) 0.0009538450 0.0009000718 0.0008529225 0.001058977 0.001571773</span></span>
<span><span class="co">#&gt;              [50,55)      [55,60)      [60,65)     [65,70)     [70,75)</span></span>
<span><span class="co">#&gt; [0,5)    0.008837440 0.0100687234 0.0094974138 0.006709821 0.005627345</span></span>
<span><span class="co">#&gt; [5,10)   0.007475941 0.0073996140 0.0079938514 0.006532814 0.004807092</span></span>
<span><span class="co">#&gt; [10,15)  0.007761210 0.0057356817 0.0056170068 0.005673832 0.004780367</span></span>
<span><span class="co">#&gt; [15,20)  0.008839046 0.0052059013 0.0038037415 0.003705707 0.003838180</span></span>
<span><span class="co">#&gt; [20,25)  0.023472305 0.0157148203 0.0093883686 0.006766870 0.006951296</span></span>
<span><span class="co">#&gt; [25,30)  0.017644796 0.0174401877 0.0117871968 0.006649788 0.005397057</span></span>
<span><span class="co">#&gt; [30,35)  0.011498410 0.0144052144 0.0140604533 0.008847051 0.005680632</span></span>
<span><span class="co">#&gt; [35,40)  0.007502217 0.0084156139 0.0104217821 0.009420975 0.006611535</span></span>
<span><span class="co">#&gt; [40,45)  0.007150830 0.0059936627 0.0066224383 0.007494804 0.007396697</span></span>
<span><span class="co">#&gt; [45,50)  0.010701655 0.0069738557 0.0056932354 0.005603930 0.006747897</span></span>
<span><span class="co">#&gt; [50,55)  0.013941657 0.0105293541 0.0066919697 0.004774211 0.004903325</span></span>
<span><span class="co">#&gt; [55,60)  0.008007989 0.0147177243 0.0110513254 0.006145581 0.004459949</span></span>
<span><span class="co">#&gt; [60,65)  0.003676822 0.0078243152 0.0151663050 0.010201459 0.005710845</span></span>
<span><span class="co">#&gt; [65,70)  0.001763958 0.0027071431 0.0063204928 0.011311789 0.007713667</span></span>
<span><span class="co">#&gt; [70,75)  0.001282886 0.0012141828 0.0020544757 0.004465601 0.007904893</span></span>
<span><span class="co">#&gt; [75,80)  0.001270680 0.0009001316 0.0009593084 0.001513268 0.003297857</span></span>
<span><span class="co">#&gt; [80,Inf) 0.001972258 0.0019173949 0.0016736119 0.001523915 0.002055307</span></span>
<span><span class="co">#&gt;              [75,80)    [80,Inf)</span></span>
<span><span class="co">#&gt; [0,5)    0.006631521 0.008241240</span></span>
<span><span class="co">#&gt; [5,10)   0.004723397 0.007323635</span></span>
<span><span class="co">#&gt; [10,15)  0.004066129 0.005948521</span></span>
<span><span class="co">#&gt; [15,20)  0.003532037 0.004275512</span></span>
<span><span class="co">#&gt; [20,25)  0.007318366 0.008618548</span></span>
<span><span class="co">#&gt; [25,30)  0.005577821 0.007323349</span></span>
<span><span class="co">#&gt; [30,35)  0.004814877 0.006421485</span></span>
<span><span class="co">#&gt; [35,40)  0.004595359 0.004851425</span></span>
<span><span class="co">#&gt; [40,45)  0.005767630 0.004615705</span></span>
<span><span class="co">#&gt; [45,50)  0.007295657 0.006498524</span></span>
<span><span class="co">#&gt; [50,55)  0.006255897 0.008540074</span></span>
<span><span class="co">#&gt; [55,60)  0.004723225 0.009082139</span></span>
<span><span class="co">#&gt; [60,65)  0.004126106 0.007127506</span></span>
<span><span class="co">#&gt; [65,70)  0.004200903 0.004087808</span></span>
<span><span class="co">#&gt; [70,75)  0.005287524 0.002884890</span></span>
<span><span class="co">#&gt; [75,80)  0.005691573 0.003255288</span></span>
<span><span class="co">#&gt; [80,Inf) 0.004025709 0.007506619</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "conmat_prediction_matrix" "matrix"                  </span></span>
<span><span class="co">#&gt; [3] "array"</span></span></code></pre></div>
<!-- ## Comparing R0 before and post vaccination rates -->
<!-- ## A note on transmission matrices -->
<!-- The initial phase of COVID-19 pandemic saw a significant age dependence in the distribution of confirmed cases with fewer confirmed cases among children. This might have been a result of younger ages being less susceptible to infection and/or less likely to exhibit clinical signs when infected [ [Davies et al](https://www.nature.com/articles/s41591-020-0962-9)] . A population's clinical fraction and age-varying susceptibility to infection both profoundly influence the likelihood that an infectious agent would spread there. This likelihood that an infectious agent would spread from an infected source to a new susceptible host and infect the host is known as transmission probability. -->
<!-- The age and setting specific relative per-contact transmission probability matrices when combined with contact matrices could be used to produce the setting-specific relative next generation matrices (NGMs) which is used to obtain the distribution of numbers of new cases in each generation of infection from any arbitrary initial number of introduced infections. Conmat creates these age and setting specific relative per-contact transmission probability matrices through `get_setting_transmission_matrices()` by making use of clinical fraction and relative susceptibility parameters from Davies et al available through `davies_age_extended`.  -->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicholas Tierney, Nick Golding, Aarathy Babu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
