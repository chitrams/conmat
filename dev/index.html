<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Builds contact matrices using GAMs and population data. This package 
  incorporates data that is copyright Commonwealth of Australia (Australian 
  Electoral Commission and Australian Bureau of Statistics) 2020.">
<title>Create Synthetic Contact Matrices • conmat</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Create Synthetic Contact Matrices">
<meta property="og:description" content="Builds contact matrices using GAMs and population data. This package 
  incorporates data that is copyright Commonwealth of Australia (Australian 
  Electoral Commission and Australian Bureau of Statistics) 2020.">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">conmat</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/conmat-population.html">Conmat Population Data</a>
    <a class="dropdown-item" href="articles/data-sources.html">Data Sources</a>
    <a class="dropdown-item" href="articles/example-pipeline.html">Example Pipeline</a>
    <a class="dropdown-item" href="articles/getting-started.html">Getting Started</a>
    <a class="dropdown-item" href="articles/other-data-sources.html">Using other data sources</a>
    <a class="dropdown-item" href="articles/parallel-computing.html">parallel-computing</a>
    <a class="dropdown-item" href="articles/visualising-conmat.html">Visualisation gallery</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="conmat">conmat<a class="anchor" aria-label="anchor" href="#conmat"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of conmat is to make it easy to generate synthetic contact matrices for a given age population.</p>
<p><strong>What is a contact matrix?</strong></p>
<p>Contact matrices describe the degree of contact between individuals of given age groups.</p>
<p>For example, this matrix describes the number of contacts between individuals</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       0-4 5-9 10-14</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0-4    10   3     4</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5-9     3  11     5</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10-14   4   5    13</span></span></code></pre></div>
<p>The rows and columns represent the age groups of the people. On the main diagonal we see that we have a higher number of contacts - showing that people of similar ages tend to interact more with one another.</p>
<p>We can use the information in these matrices to model how diseases such as COVID-19 spread in a population through social contact.</p>
<p><strong>Why do we need <em>synthetic</em> contact matrices?</strong></p>
<p>Contact matrices are produced from empirical data resulting from a contact survey, which requires individuals to diary the amount and manner of contact a person has in a day.</p>
<p>However, these surveys are highly time-consuming and expensive to run, meaning that only a handful of these empirical datasets exist globally.</p>
<p>We can use statistical methods to create <em>synthetic contact matrices</em>, which are new contact matrices that have been generalised to new countries based on existing surveys.</p>
<p><strong>Why do we need <code>conmat</code>?</strong></p>
<p>Existing methods only provide outputs of the contact matrices for each country, or at best, for urban and rural areas for a given country.</p>
<p>We need methods that allow for flexibly creating synthetic contact matrices for a specified age population, as the age population distribution of many countries (e.g., Australia), are quite heterogeneous, and assuming it is homogeneous would result in inaccurate representation of community infection in many regions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"conmat"</span>, repos <span class="op">=</span> <span class="st">"https://njtierney.r-universe.dev"</span><span class="op">)</span></span></code></pre></div>
<p>Or alternatively you can use <code>remotes</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"njtierney/conmat"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>First we want to fit the model to the POLYMOD data, which contains various survey and population data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">conmat</span><span class="op">)</span></span>
<span><span class="va">polymod_contact_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_polymod_contact_data.html">get_polymod_contact_data</a></span><span class="op">(</span>setting <span class="op">=</span> <span class="st">"work"</span><span class="op">)</span></span>
<span><span class="va">polymod_survey_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_polymod_population.html">get_polymod_population</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The contact data is a data frame containing the age from and to, and the number of contacts for each of the specified settings, “home”, “work”, “school”, “other”, or “all” as well as the number of participants. By default, <code>polymod_contact_data</code> contains data from “all”, but we’re going to use the “work” set of data, as it produces an interesting looking dataset. Each row contains survey information of the number of contacts. Specifically, the number of contacts from one age group to another age group, and then the number of participants in that age group.</p>
<p>The survey data, <code>polymod_survey_data</code> contains the lower age limit and the population in that age group.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">polymod_survey_data</span></span>
<span><span class="co">#&gt; # A tibble: 21 × 2 (conmat_population)</span></span>
<span><span class="co">#&gt;  - age: lower.age.limit</span></span>
<span><span class="co">#&gt;  - population: population</span></span>
<span><span class="co">#&gt;    lower.age.limit population</span></span>
<span><span class="co">#&gt;              &lt;int&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1               0   1852682.</span></span>
<span><span class="co">#&gt;  2               5   1968449.</span></span>
<span><span class="co">#&gt;  3              10   2138897.</span></span>
<span><span class="co">#&gt;  4              15   2312032.</span></span>
<span><span class="co">#&gt;  5              20   2407486.</span></span>
<span><span class="co">#&gt;  6              25   2423602.</span></span>
<span><span class="co">#&gt;  7              30   2585137.</span></span>
<span><span class="co">#&gt;  8              35   2969393.</span></span>
<span><span class="co">#&gt;  9              40   3041663.</span></span>
<span><span class="co">#&gt; 10              45   2809154.</span></span>
<span><span class="co">#&gt; # … with 11 more rows</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="predicting-the-contact-rate">Predicting the contact rate<a class="anchor" aria-label="anchor" href="#predicting-the-contact-rate"></a>
</h2>
<p>We can create a model of the contact <em>rate</em> with the function <code>fit_single_contact_model</code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2022</span> <span class="op">-</span> <span class="fl">09</span> <span class="op">-</span> <span class="fl">06</span><span class="op">)</span></span>
<span><span class="va">contact_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fit_single_contact_model.html">fit_single_contact_model</a></span><span class="op">(</span></span>
<span>  contact_data <span class="op">=</span> <span class="va">polymod_contact_data</span>,</span>
<span>  population <span class="op">=</span> <span class="va">polymod_survey_data</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in bgam.fit(G, mf, chunk.size, gp, scale, gamma, method = method, :</span></span>
<span><span class="co">#&gt; fitted rates numerically 0 occurred</span></span></code></pre></div>
<p>This fits a generalised additive model (GAM), predicting the contact rate, based on a series of prediction terms that describe various features of the contact rates.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contact_model</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Family: poisson </span></span>
<span><span class="co">#&gt; Link function: log </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Formula:</span></span>
<span><span class="co">#&gt; contacts ~ s(gam_age_offdiag) + s(gam_age_offdiag_2) + s(gam_age_diag_prod) + </span></span>
<span><span class="co">#&gt;     s(gam_age_diag_sum) + s(gam_age_pmax) + s(gam_age_pmin) + </span></span>
<span><span class="co">#&gt;     school_probability + work_probability + offset(log_contactable_population)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Estimated degrees of freedom:</span></span>
<span><span class="co">#&gt; 1.00 4.27 5.51 6.23 7.89 7.36  total = 35.26 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; fREML score: 24060.58     rank: 55/57</span></span></code></pre></div>
<p>We can use this contact model to then predict the contact rate in a new population.</p>
<p>As a demonstration, let’s take an age population from a given LGA in Australia (this was the initial motivation for the package, so there are some helper functions for Australian specific data).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fairfield</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/abs_age_data.html">abs_age_lga</a></span><span class="op">(</span><span class="st">"Fairfield (C)"</span><span class="op">)</span></span>
<span><span class="va">fairfield</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 4 (conmat_population)</span></span>
<span><span class="co">#&gt;  - age: lower.age.limit</span></span>
<span><span class="co">#&gt;  - population: population</span></span>
<span><span class="co">#&gt;    lga           lower.age.limit  year population</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Fairfield (C)               0  2020      12261</span></span>
<span><span class="co">#&gt;  2 Fairfield (C)               5  2020      13093</span></span>
<span><span class="co">#&gt;  3 Fairfield (C)              10  2020      13602</span></span>
<span><span class="co">#&gt;  4 Fairfield (C)              15  2020      14323</span></span>
<span><span class="co">#&gt;  5 Fairfield (C)              20  2020      15932</span></span>
<span><span class="co">#&gt;  6 Fairfield (C)              25  2020      16190</span></span>
<span><span class="co">#&gt;  7 Fairfield (C)              30  2020      14134</span></span>
<span><span class="co">#&gt;  8 Fairfield (C)              35  2020      13034</span></span>
<span><span class="co">#&gt;  9 Fairfield (C)              40  2020      12217</span></span>
<span><span class="co">#&gt; 10 Fairfield (C)              45  2020      13449</span></span>
<span><span class="co">#&gt; 11 Fairfield (C)              50  2020      13419</span></span>
<span><span class="co">#&gt; 12 Fairfield (C)              55  2020      13652</span></span>
<span><span class="co">#&gt; 13 Fairfield (C)              60  2020      12907</span></span>
<span><span class="co">#&gt; 14 Fairfield (C)              65  2020      10541</span></span>
<span><span class="co">#&gt; 15 Fairfield (C)              70  2020       8227</span></span>
<span><span class="co">#&gt; 16 Fairfield (C)              75  2020       5598</span></span>
<span><span class="co">#&gt; 17 Fairfield (C)              80  2020       4006</span></span>
<span><span class="co">#&gt; 18 Fairfield (C)              85  2020       4240</span></span></code></pre></div>
<p>We can then pass the contact model through to <code>predict_contacts</code>, along with the fairfield age population data, and some age breaks that we want to predict to.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2022</span> <span class="op">-</span> <span class="fl">09</span> <span class="op">-</span> <span class="fl">06</span><span class="op">)</span></span>
<span><span class="va">synthetic_contact_fairfield</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/predict_contacts.html">predict_contacts</a></span><span class="op">(</span></span>
<span>  model <span class="op">=</span> <span class="va">contact_model</span>,</span>
<span>  population <span class="op">=</span> <span class="va">fairfield</span>,</span>
<span>  age_breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">85</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">synthetic_contact_fairfield</span></span>
<span><span class="co">#&gt; # A tibble: 324 × 3</span></span>
<span><span class="co">#&gt;    age_group_from age_group_to contacts</span></span>
<span><span class="co">#&gt;    &lt;fct&gt;          &lt;fct&gt;           &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 [0,5)          [0,5)         0.00213</span></span>
<span><span class="co">#&gt;  2 [0,5)          [5,10)        0.00360</span></span>
<span><span class="co">#&gt;  3 [0,5)          [10,15)       0.00305</span></span>
<span><span class="co">#&gt;  4 [0,5)          [15,20)       0.00444</span></span>
<span><span class="co">#&gt;  5 [0,5)          [20,25)       0.0110 </span></span>
<span><span class="co">#&gt;  6 [0,5)          [25,30)       0.0218 </span></span>
<span><span class="co">#&gt;  7 [0,5)          [30,35)       0.0317 </span></span>
<span><span class="co">#&gt;  8 [0,5)          [35,40)       0.0345 </span></span>
<span><span class="co">#&gt;  9 [0,5)          [40,45)       0.0341 </span></span>
<span><span class="co">#&gt; 10 [0,5)          [45,50)       0.0330 </span></span>
<span><span class="co">#&gt; # … with 314 more rows</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h2>
<p>Let’s visualise the matrix to get a sense of the predictions with <code>autoplot</code>. First we need to transform the predictions to a matrix:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">synthetic_contact_fairfield</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/predictions_to_matrix.html">predictions_to_matrix</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot-matrix-differents-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="applying-the-model-across-all-settings">Applying the model across all settings.<a class="anchor" aria-label="anchor" href="#applying-the-model-across-all-settings"></a>
</h2>
<p>You can also fit a model for all of the settings all at once with a series of functions, <code>fit_setting_contacts</code>, and <code>predict_setting_contacts</code>. This means we can do the above, but for each setting, “home”, “work”, “school”, “other”, and “all”. We would recommend this when using conmat, as it is a pretty common use case. However for demonstration purposes we wanted to show how it works for a single matrix here first. We also provide details on how to fit the model to each of these settings in parallel. For more details on that workflow, see the “getting started” vignette.</p>
</div>
<div class="section level2">
<h2 id="data-sources">Data sources<a class="anchor" aria-label="anchor" href="#data-sources"></a>
</h2>
<p>This package provides data and helper functions for the data, for use in calculating contact matrices. The data sources are from the Australian Bureau of Statistics (ABS), as we were using these a lot when we created the package. In the future we might wrap these data sources and helpers into another package, but for the time being they are here. Below are a couple of examples of data provided, see the “data sources” vignette and helpful at the website for full details.</p>
<p>You can extract the age population structure for the LGA, Brisbane, like so:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/abs_age_data.html">abs_age_lga</a></span><span class="op">(</span><span class="st">"Brisbane (C)"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 4 (conmat_population)</span></span>
<span><span class="co">#&gt;  - age: lower.age.limit</span></span>
<span><span class="co">#&gt;  - population: population</span></span>
<span><span class="co">#&gt;    lga          lower.age.limit  year population</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Brisbane (C)               0  2020      72894</span></span>
<span><span class="co">#&gt;  2 Brisbane (C)               5  2020      75933</span></span>
<span><span class="co">#&gt;  3 Brisbane (C)              10  2020      73990</span></span>
<span><span class="co">#&gt;  4 Brisbane (C)              15  2020      72010</span></span>
<span><span class="co">#&gt;  5 Brisbane (C)              20  2020     104564</span></span>
<span><span class="co">#&gt;  6 Brisbane (C)              25  2020     119000</span></span>
<span><span class="co">#&gt;  7 Brisbane (C)              30  2020     110798</span></span>
<span><span class="co">#&gt;  8 Brisbane (C)              35  2020     100493</span></span>
<span><span class="co">#&gt;  9 Brisbane (C)              40  2020      86630</span></span>
<span><span class="co">#&gt; 10 Brisbane (C)              45  2020      86791</span></span>
<span><span class="co">#&gt; 11 Brisbane (C)              50  2020      76063</span></span>
<span><span class="co">#&gt; 12 Brisbane (C)              55  2020      69273</span></span>
<span><span class="co">#&gt; 13 Brisbane (C)              60  2020      59666</span></span>
<span><span class="co">#&gt; 14 Brisbane (C)              65  2020      49134</span></span>
<span><span class="co">#&gt; 15 Brisbane (C)              70  2020      42252</span></span>
<span><span class="co">#&gt; 16 Brisbane (C)              75  2020      29927</span></span>
<span><span class="co">#&gt; 17 Brisbane (C)              80  2020      20898</span></span>
<span><span class="co">#&gt; 18 Brisbane (C)              85  2020      22683</span></span></code></pre></div>
<p>Note that you need to use the exact LGA name - you can look up LGA names in the data set <code>abs_lga_lookup</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">abs_lga_lookup</span></span>
<span><span class="co">#&gt; # A tibble: 544 × 3</span></span>
<span><span class="co">#&gt;    state lga_code lga                  </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;                </span></span>
<span><span class="co">#&gt;  1 NSW      10050 Albury (C)           </span></span>
<span><span class="co">#&gt;  2 NSW      10180 Armidale Regional (A)</span></span>
<span><span class="co">#&gt;  3 NSW      10250 Ballina (A)          </span></span>
<span><span class="co">#&gt;  4 NSW      10300 Balranald (A)        </span></span>
<span><span class="co">#&gt;  5 NSW      10470 Bathurst Regional (A)</span></span>
<span><span class="co">#&gt;  6 NSW      10500 Bayside (A)          </span></span>
<span><span class="co">#&gt;  7 NSW      10550 Bega Valley (A)      </span></span>
<span><span class="co">#&gt;  8 NSW      10600 Bellingen (A)        </span></span>
<span><span class="co">#&gt;  9 NSW      10650 Berrigan (A)         </span></span>
<span><span class="co">#&gt; 10 NSW      10750 Blacktown (C)        </span></span>
<span><span class="co">#&gt; # … with 534 more rows</span></span></code></pre></div>
<p>Or get the information for states like so:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/abs_age_data.html">abs_age_state</a></span><span class="op">(</span>state_name <span class="op">=</span> <span class="st">"QLD"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 4 (conmat_population)</span></span>
<span><span class="co">#&gt;  - age: lower.age.limit</span></span>
<span><span class="co">#&gt;  - population: population</span></span>
<span><span class="co">#&gt;     year state lower.age.limit population</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  2020 QLD                 0     314602</span></span>
<span><span class="co">#&gt;  2  2020 QLD                 5     339247</span></span>
<span><span class="co">#&gt;  3  2020 QLD                10     345205</span></span>
<span><span class="co">#&gt;  4  2020 QLD                15     319014</span></span>
<span><span class="co">#&gt;  5  2020 QLD                20     338824</span></span>
<span><span class="co">#&gt;  6  2020 QLD                25     370468</span></span>
<span><span class="co">#&gt;  7  2020 QLD                30     362541</span></span>
<span><span class="co">#&gt;  8  2020 QLD                35     354219</span></span>
<span><span class="co">#&gt;  9  2020 QLD                40     325208</span></span>
<span><span class="co">#&gt; 10  2020 QLD                45     348003</span></span>
<span><span class="co">#&gt; 11  2020 QLD                50     321168</span></span>
<span><span class="co">#&gt; 12  2020 QLD                55     317489</span></span>
<span><span class="co">#&gt; 13  2020 QLD                60     288317</span></span>
<span><span class="co">#&gt; 14  2020 QLD                65     254114</span></span>
<span><span class="co">#&gt; 15  2020 QLD                70     226033</span></span>
<span><span class="co">#&gt; 16  2020 QLD                75     156776</span></span>
<span><span class="co">#&gt; 17  2020 QLD                80     100692</span></span>
<span><span class="co">#&gt; 18  2020 QLD                85      94266</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h2>
<p>The contact matrices created using this package are transposed when compared to the contact matrices discussed by <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005697" class="external-link">Prem</a> and <a href="https://journals.plos.org/plosmedicine/article?id=10.1371/journal.pmed.0050074" class="external-link">Mossong</a>. That is, the rows are “age group to”, and the columns are “age group from”.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the conmat project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing conmat</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nicholas Tierney <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0003-1460-8722" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.telethonkids.org.au/contact-us/our-people/g/nick-golding/" class="external-link">Nick Golding</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8916-5570" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://aarathybabu.netlify.app/" class="external-link">Aarathy Babu</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/https://orcid.org/0000-0002-6982-5989" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/njtierney/conmat/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/njtierney/conmat/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/njtierney/conmat?branch=master" class="external-link"><img src="https://codecov.io/gh/njtierney/conmat/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicholas Tierney, <a href="https://www.telethonkids.org.au/contact-us/our-people/g/nick-golding/" class="external-link">Nick Golding</a>, <a href="https://aarathybabu.netlify.app/" class="external-link">Aarathy Babu</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
